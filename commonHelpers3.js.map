{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst formRef = document.querySelector('.feedback-form');\n\nconst feedbackFormKey = 'feedback-form-state';\nconst feedbackFormData = {\n  email: '',\n  message: '',\n};\n\nconst onFeedbackFormInput = ({ target: { name, value } }) => {\n  feedbackFormData[name] = value;\n\n  try {\n    localStorage.setItem(feedbackFormKey, JSON.stringify(feedbackFormData));\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nconst onLoadPage = () => {\n  try {\n    const dataFromLS = JSON.parse(localStorage.getItem(feedbackFormKey));\n    if (!dataFromLS) return;\n\n    feedbackFormData.email = formRef.elements.email.value = dataFromLS?.email;\n    feedbackFormData.message = formRef.elements.message.value =\n      dataFromLS?.message;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nconst onFeedbackFormSubmit = event => {\n  event.preventDefault();\n\n  const {\n    email: { value: emailValue },\n    message: { value: messageValue },\n  } = event.target.elements;\n\n  if (!emailValue || !messageValue) return;\n\n  console.log(feedbackFormData);\n\n  localStorage.removeItem(feedbackFormKey);\n  event.target.reset();\n  feedbackFormData.email = '';\n  feedbackFormData.message = '';\n};\n\nonLoadPage();\nformRef.addEventListener('submit', onFeedbackFormSubmit);\nformRef.addEventListener('input', throttle(onFeedbackFormInput, 500));\n"],"names":["formRef","feedbackFormKey","feedbackFormData","onFeedbackFormInput","name","value","error","onLoadPage","dataFromLS","onFeedbackFormSubmit","event","emailValue","messageValue","throttle"],"mappings":"wIACA,MAAMA,EAAU,SAAS,cAAc,gBAAgB,EAEjDC,EAAkB,sBAClBC,EAAmB,CACvB,MAAO,GACP,QAAS,EACX,EAEMC,EAAsB,CAAC,CAAE,OAAQ,CAAE,KAAAC,EAAM,MAAAC,CAAO,CAAA,IAAO,CAC3DH,EAAiBE,GAAQC,EAEzB,GAAI,CACF,aAAa,QAAQJ,EAAiB,KAAK,UAAUC,CAAgB,CAAC,CACvE,OAAQI,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,EAEMC,EAAa,IAAM,CACvB,GAAI,CACF,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQP,CAAe,CAAC,EACnE,GAAI,CAACO,EAAY,OAEjBN,EAAiB,MAAQF,EAAQ,SAAS,MAAM,MAAQQ,GAAA,YAAAA,EAAY,MACpEN,EAAiB,QAAUF,EAAQ,SAAS,QAAQ,MAClDQ,GAAA,YAAAA,EAAY,OACf,OAAQF,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,EAEMG,EAAuBC,GAAS,CACpCA,EAAM,eAAc,EAEpB,KAAM,CACJ,MAAO,CAAE,MAAOC,CAAY,EAC5B,QAAS,CAAE,MAAOC,CAAc,CACpC,EAAMF,EAAM,OAAO,SAEb,CAACC,GAAc,CAACC,IAEpB,QAAQ,IAAIV,CAAgB,EAE5B,aAAa,WAAWD,CAAe,EACvCS,EAAM,OAAO,QACbR,EAAiB,MAAQ,GACzBA,EAAiB,QAAU,GAC7B,EAEAK,IACAP,EAAQ,iBAAiB,SAAUS,CAAoB,EACvDT,EAAQ,iBAAiB,QAASa,EAASV,EAAqB,GAAG,CAAC"}